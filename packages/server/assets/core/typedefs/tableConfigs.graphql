"""
Selected parameters for table with parent/child separation
"""
type TableSelectedParameters {
  parent: [Parameter!]!
  child: [Parameter!]!
}

"""
Table configuration for storing parent and child columns and parameters
"""
type TableConfig {
  parentColumns: [TableColumn!]!
  childColumns: [TableColumn!]!
  selectedParameters: TableSelectedParameters!
}

"""
Column configuration for tables
"""
type TableColumn {
  field: String!
  header: String!
  width: Int
  visible: Boolean!
  removable: Boolean
  order: Int!
}

"""
Named table configuration with additional metadata
"""
type TableSettings {
  id: ID!
  name: String!
  config: TableConfig!
  categoryFilters: CategoryFilters
}

"""
Category filters for the table
"""
type CategoryFilters {
  selectedParentCategories: [String!]!
  selectedChildCategories: [String!]!
}

input TableColumnInput {
  field: String!
  header: String!
  width: Int
  visible: Boolean!
  removable: Boolean
  order: Int!
}

"""
Input for selected parameters
"""
input TableSelectedParametersInput {
  parent: [ID!]!
  child: [ID!]!
}

"""
Input for table configuration
"""
input TableConfigInput {
  parentColumns: [TableColumnInput!]!
  childColumns: [TableColumnInput!]!
  selectedParameters: TableSelectedParametersInput!
}

input CategoryFiltersInput {
  selectedParentCategories: [String!]!
  selectedChildCategories: [String!]!
}

input CreateNamedTableInput {
  name: String!
  config: TableConfigInput!
  categoryFilters: CategoryFiltersInput
}

input UpdateNamedTableInput {
  id: ID!
  name: String
  config: TableConfigInput
  categoryFilters: CategoryFiltersInput
}

extend type Query {
  """
  Get all named table configurations for the current user
  """
  tableSettingsP: [TableSettings!]!

  """
  Get a specific named table configuration
  """
  tableSettings(id: ID!): TableSettings
}

extend type Mutation {
  """
  Create a new named table configuration
  """
  createNamedTable(input: CreateNamedTableInput!): TableSettings!

  """
  Update an existing named table configuration
  """
  updateNamedTable(input: UpdateNamedTableInput!): TableSettings!

  """
  Delete a named table configuration
  """
  deleteNamedTable(id: ID!): Boolean!
}
